{"ast":null,"code":"var _jsxFileName = \"/Users/admin/Desktop/ReactHillBrewing/client/src/components/dashboard/edits/AddRecipeForm.js\";\nimport React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { saveNewRecipe, updateRecipe, deleteRecipe } from '../../../actions/dashboard';\n\nconst AddRecipeForm = ({\n  saveNewRecipe,\n  updateRecipe,\n  deleteRecipe,\n  loggedInUserId,\n  categories,\n  dashboard: {\n    editMode,\n    editRecipe\n  }\n}) => {\n  const [formData, setFormdata] = useState({\n    title: '',\n    subtitle: '',\n    category: '',\n    pt1: 'MALT/GRAIN BILL',\n    pb1: '',\n    pt2: 'HOPS/SCHEDULE',\n    pb2: '',\n    pt3: 'YEAST',\n    pb3: '',\n    pt4: 'DIRECTIONS',\n    pb4: ''\n  });\n  const {\n    title,\n    subtitle,\n    category,\n    pt1,\n    pb1,\n    pt2,\n    pb2,\n    pt3,\n    pb3,\n    pt4,\n    pb4\n  } = formData;\n  useEffect(() => {\n    if (editMode === 'editRecipe') {\n      const {\n        _id,\n        category,\n        title,\n        subtitle,\n        user,\n        paragraphs\n      } = editRecipe;\n      setFormdata({\n        title,\n        subtitle,\n        category,\n        pt1: paragraphs[0].title,\n        pb1: paragraphs[0].body,\n        pt2: 'HOPS/SCHEDULE',\n        pb2: '',\n        pt3: 'YEAST',\n        pb3: '',\n        pt4: 'DIRECTIONS',\n        pb4: ''\n      });\n    }\n  }, []);\n\n  const onChange = e => {\n    setFormdata({ ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n    const packagedFormData = {\n      user: loggedInUserId,\n      title,\n      subtitle,\n      category,\n      paragraphs: [{\n        title: pt1,\n        body: pb1\n      }, {\n        title: pt2,\n        body: pb2\n      }, {\n        title: pt3,\n        body: pb3\n      }, {\n        title: pt4,\n        body: pb4\n      }]\n    };\n    editMode === 'addRecipe' ? saveNewRecipe(packagedFormData) : updateRecipe(editRecipe._id, packagedFormData);\n  };\n\n  const onDelete = () => {\n    // eslint-disable-next-line no-restricted-globals\n    const yes = confirm(\"Sure to delete?\");\n\n    if (yes) {\n      deleteRecipe(editRecipe._id);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dash-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dash-card-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, \"Add new Recipe\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dash-card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 25\n    }\n  }, \"Recipe Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"name\",\n    type: \"text\",\n    placeholder: \"Enter recipe name\",\n    name: \"title\",\n    value: title,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"subtitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 25\n    }\n  }, \"Subtitle\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"subtitle\",\n    type: \"text\",\n    placeholder: \"Enter subtitle\",\n    name: \"subtitle\",\n    value: subtitle,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 25\n    }\n  }, \"Category\"), /*#__PURE__*/React.createElement(\"select\", {\n    id: \"category\",\n    className: \"select\",\n    name: \"category\",\n    value: category,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 29\n    }\n  }, \"Select a category\"), categories.filter(category => category.title !== 'Latest Recipe').map((category, index) => /*#__PURE__*/React.createElement(\"option\", {\n    key: index,\n    value: category.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 41\n    }\n  }, category.title)))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 27\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"paragraph-title\",\n    type: \"text\",\n    name: \"pt1\",\n    value: pt1,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"textarea\", {\n    cols: \"30\",\n    rows: \"5\",\n    placeholder: \"Type here...\",\n    name: \"pb1\",\n    value: pb1,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"paragraph-title\",\n    type: \"text\",\n    name: \"pt2\",\n    value: pt2,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"textarea\", {\n    cols: \"30\",\n    rows: \"5\",\n    placeholder: \"Type here...\",\n    name: \"pb2\",\n    value: pb2,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"paragraph-title\",\n    type: \"text\",\n    name: \"pt3\",\n    value: pt3,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"textarea\", {\n    cols: \"30\",\n    rows: \"5\",\n    placeholder: \"Type here...\",\n    name: \"pb3\",\n    value: pb3,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"paragraph-title\",\n    type: \"text\",\n    name: \"pt4\",\n    value: pt4,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"textarea\", {\n    cols: \"30\",\n    rows: \"5\",\n    placeholder: \"Type here...\",\n    name: \"pb4\",\n    value: pb4,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"edit-buttons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"center edit-btn\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 25\n    }\n  }, \"Save recipe\"), editMode === 'editRecipe' && /*#__PURE__*/React.createElement(\"button\", {\n    className: \"center edit-btn\",\n    onClick: onDelete,\n    style: {\n      marginLeft: '10px',\n      backgroundColor: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 56\n    }\n  }, \"Delete Recipe\")))));\n};\n\nconst mapStateToProps = state => ({\n  dashboard: state.dashboard,\n  loggedInUserId: state.auth.user._id,\n  categories: state.category.categories\n});\n\nexport default connect(mapStateToProps, {\n  saveNewRecipe,\n  updateRecipe,\n  deleteRecipe\n})(AddRecipeForm);","map":{"version":3,"sources":["/Users/admin/Desktop/ReactHillBrewing/client/src/components/dashboard/edits/AddRecipeForm.js"],"names":["React","useState","useEffect","connect","saveNewRecipe","updateRecipe","deleteRecipe","AddRecipeForm","loggedInUserId","categories","dashboard","editMode","editRecipe","formData","setFormdata","title","subtitle","category","pt1","pb1","pt2","pb2","pt3","pb3","pt4","pb4","_id","user","paragraphs","body","onChange","e","target","name","value","onSubmit","preventDefault","packagedFormData","onDelete","yes","confirm","filter","map","index","marginLeft","backgroundColor","mapStateToProps","state","auth"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { saveNewRecipe, updateRecipe, deleteRecipe } from '../../../actions/dashboard';\n\n\nconst AddRecipeForm = ({ saveNewRecipe, updateRecipe, deleteRecipe, loggedInUserId, categories, dashboard: { editMode, editRecipe } }) => {\n    const [formData, setFormdata] = useState({\n        title: '',\n        subtitle: '',\n        category: '',\n        pt1: 'MALT/GRAIN BILL',\n        pb1: '',\n        pt2: 'HOPS/SCHEDULE',\n        pb2: '',\n        pt3: 'YEAST',\n        pb3: '',\n        pt4: 'DIRECTIONS',\n        pb4: ''\n    })\n\n    const { title, subtitle, category, pt1, pb1, pt2, pb2, pt3, pb3, pt4, pb4 } = formData;\n\n    useEffect(() => {\n        if (editMode === 'editRecipe') {\n            const { _id, category, title, subtitle, user, paragraphs } = editRecipe;\n\n            setFormdata({\n                title,\n                subtitle,\n                category,\n                pt1: paragraphs[0].title,\n                pb1: paragraphs[0].body,\n                pt2: 'HOPS/SCHEDULE',\n                pb2: '',\n                pt3: 'YEAST',\n                pb3: '',\n                pt4: 'DIRECTIONS',\n                pb4: ''\n            })\n        }\n    }, [])\n\n    const onChange = (e) => {\n\n        setFormdata({\n            ...formData,\n            [e.target.name]: e.target.value\n        })\n    };\n\n\n    const onSubmit = (e) => {\n        e.preventDefault();\n\n        const packagedFormData = {\n            user: loggedInUserId,\n            title,\n            subtitle,\n            category,\n            paragraphs: [\n                { title: pt1, body: pb1 },\n                { title: pt2, body: pb2 },\n                { title: pt3, body: pb3 },\n                { title: pt4, body: pb4 },\n            ]\n        };\n\n        editMode === 'addRecipe' ? saveNewRecipe(packagedFormData) : updateRecipe(editRecipe._id, packagedFormData);\n\n    }\n\n\n    const onDelete = () => {\n        // eslint-disable-next-line no-restricted-globals\n        const yes = confirm(\"Sure to delete?\");\n\n        if (yes) {\n            deleteRecipe(editRecipe._id);\n        }\n    }\n\n\n    return (\n        <div className=\"dash-card\">\n            <div className=\"dash-card-header\">\n                Add new Recipe\n            </div>\n            <div className=\"dash-card-body\">\n                <form onSubmit={onSubmit}>\n\n                    <div className=\"form-group\">\n                        <label htmlFor=\"name\">Recipe Name</label>\n                        <input id=\"name\" type=\"text\" placeholder=\"Enter recipe name\" name=\"title\" value={title} onChange={onChange} />\n                    </div>\n\n                    <div className=\"form-group\">\n                        <label htmlFor=\"subtitle\">Subtitle</label>\n                        <input id=\"subtitle\" type=\"text\" placeholder=\"Enter subtitle\" name=\"subtitle\" value={subtitle} onChange={onChange} />\n                    </div>\n\n                    <div className=\"form-group\">\n                        <label htmlFor=\"category\">Category</label>\n                        <select id=\"category\" className=\"select\" name=\"category\" value={category} onChange={onChange}>\n                            <option value=\"\" disabled>Select a category</option>\n\n                            {\n                                categories.filter(category => category.title !== 'Latest Recipe')\n                                    .map((category, index) => (\n                                        <option key={index} value={category.title} >{category.title}</option>\n                                    ))\n                            }\n\n\n                        </select>\n                    </div>\n                    <br /><br />\n\n                    <input id=\"paragraph-title\" type=\"text\" name=\"pt1\" value={pt1} onChange={onChange} />\n                    <textarea cols=\"30\" rows=\"5\" placeholder=\"Type here...\" name=\"pb1\" value={pb1} onChange={onChange} />\n                    <br />\n\n                    <input id=\"paragraph-title\" type=\"text\" name=\"pt2\" value={pt2} onChange={onChange} />\n                    <textarea cols=\"30\" rows=\"5\" placeholder=\"Type here...\" name=\"pb2\" value={pb2} onChange={onChange} />\n                    <br />\n\n                    <input id=\"paragraph-title\" type=\"text\" name=\"pt3\" value={pt3} onChange={onChange} />\n                    <textarea cols=\"30\" rows=\"5\" placeholder=\"Type here...\" name=\"pb3\" value={pb3} onChange={onChange} />\n                    <br />\n\n                    <input id=\"paragraph-title\" type=\"text\" name=\"pt4\" value={pt4} onChange={onChange} />\n                    <textarea cols=\"30\" rows=\"5\" placeholder=\"Type here...\" name=\"pb4\" value={pb4} onChange={onChange} />\n                    <div className=\"edit-buttons\">\n\n                        <button className=\"center edit-btn\" type=\"submit\">Save recipe</button>\n                        {editMode === 'editRecipe' && (<button className=\"center edit-btn\" onClick={onDelete} style={{ marginLeft: '10px', backgroundColor: 'red' }}>Delete Recipe</button>)}\n                    </div>\n                </form>\n            </div>\n        </div>\n    )\n}\n\n\nconst mapStateToProps = state => ({\n    dashboard: state.dashboard,\n    loggedInUserId: state.auth.user._id,\n    categories: state.category.categories\n})\n\nexport default connect(mapStateToProps, { saveNewRecipe, updateRecipe, deleteRecipe })(AddRecipeForm);\n"]},"metadata":{},"sourceType":"module"}